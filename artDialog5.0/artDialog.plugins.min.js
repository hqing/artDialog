(function(c){c.alert=function(a,b){return c.dialog({id:"Alert",fixed:!0,lock:!0,content:a,ok:!0,beforeunload:b})};c.confirm=function(a,b,m){return c.dialog({id:"Confirm",fixed:!0,lock:!0,content:a,ok:b,cancel:m})};c.prompt=function(a,b,m){var d;return c.dialog({id:"Prompt",fixed:!0,lock:!0,content:['<div style="margin-bottom:5px;font-size:12px">',a,'</div><div><input type="text" class="d-input-text" value="',m||"",'" style="width:18em;padding:6px 4px" /></div>'].join(""),initialize:function(){d=this.dom.content.find(".d-input-text")[0];
d.select();d.focus()},ok:function(){return b&&b.call(this,d.value)},cancel:function(){}})};c.dialog.prototype.shake=function(){var a=function(b,a,c,i){var e=+new Date,f=setInterval(function(){var k=+new Date-e,g=k/c;1<=g?(clearInterval(f),a(g)):b(i?i(g,k,0,1,c):g)},13)},b=function(c,d,h,i){var e=i;void 0===e&&(e=12,h/=e);var f=parseInt(c.style.marginLeft)||0;a(function(b){c.style.marginLeft=f+(d-f)*b+"px"},function(){0!==e&&b(c,1===e?0:d/e-d,h,--e)},h,function(b,a,c,d,m){return 1>(a/=m/2)?d/2*a*a+
c:-d/2*(--a*(a-2)-1)+c})};return function(){b(this.dom.wrap[0],20,600);return this}}();var s=function(){var a=this,b=function(b){var c=a[b];a[b]=function(){return c.apply(a,arguments)}};b("start");b("move");b("end")};c.noop=c.noop||function(){};s.prototype={onstart:c.noop,start:function(a){c(document).bind("mousemove",this.move).bind("mouseup",this.end);this._sClientX=a.clientX;this._sClientY=a.clientY;this.onstart(a.clientX,a.clientY);return!1},onmove:c.noop,move:function(a){this._mClientX=a.clientX;
this._mClientY=a.clientY;this.onmove(a.clientX-this._sClientX,a.clientY-this._sClientY);return!1},onend:c.noop,end:function(a){c(document).unbind("mousemove",this.move).unbind("mouseup",this.end);this.onend(a.clientX,a.clientY);return!1}};var n=c(window),o=c(document),l=document.documentElement,t=!("minWidth"in l.style),u="onlosecapture"in l,v="setCapture"in l,r=function(a){var b=new s,c,d,h,i,e=artDialog.focus,f=e.dom,k=f.wrap,g=f.title,j=k[0],l=g[0],q=f.main[0],p=j.style,w=q.style,x=a.target===
f.se[0]?!0:!1,f="fixed"===j.style.position,r=j.offsetWidth,A=j.offsetHeight,B=n.width(),C=n.height(),y=f?0:o.scrollLeft(),z=f?0:o.scrollTop(),D=B-r+y,E=C-A+z,F="getSelection"in window?function(){window.getSelection().removeAllRanges()}:function(){try{document.selection.empty()}catch(a){}};b.onstart=function(){x?(c=q.offsetWidth,d=q.offsetHeight):(h=j.offsetLeft,i=j.offsetTop);o.bind("dblclick",b.end);!t&&u?g.bind("losecapture",b.end):n.bind("blur",b.end);v&&l.setCapture();k.addClass("d-state-drag");
e.focus()};b.onmove=function(a,b){if(x){var e=a+c,f=b+d;p.width="auto";w.width=Math.max(0,e)+"px";p.width=j.offsetWidth+"px";w.height=Math.max(0,f)+"px"}else e=Math.max(y,Math.min(D,a+h)),f=Math.max(z,Math.min(E,b+i)),p.left=e+"px",p.top=f+"px";F()};b.onend=function(){o.unbind("dblclick",b.end);!t&&u?g.unbind("losecapture",b.end):n.unbind("blur",b.end);v&&l.releaseCapture();k.removeClass("d-state-drag")};b.start(a)};c(document).bind("mousedown",function(a){var b=artDialog.focus;if(b){var c=a.target,
d=b.config,b=b.dom;if(!1!==d.drag&&c===b.title[0]||!1!==d.resize&&c===b.se[0])return r(a),!1}})})(this.art||this.jQuery,this);
